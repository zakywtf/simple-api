extends ../layouts/base

block content
	-function prettyDate(dateString){
		//if it's already a date object and not a string you don't need this line:
		-var date = new Date(dateString);
		-var d = date.getDate();
		-var monthNames = [ "Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember" ];
		-var m = monthNames[date.getMonth()];
		-var dayNames = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
		-var currentDay = dayNames[date.getDay()];
		-var y = date.getFullYear();
		-return currentDay+', '+d+' '+m+' '+y;
	-}
	
	-function formatRupiah(amount) {
		-return new Intl.NumberFormat('id-ID', {style: 'currency', currency: 'IDR', minimumFractionDigits: 0, maximumFractionDigits: 0}).format(amount);
	-}

	-function prettyTime(dateString) {
		-const date = new Date(dateString);
		-let hours = date.getHours();
		-let minutes = date.getMinutes().toString().padStart(2, "0");
		-let ampm = hours >= 12 ? "PM" : "AM";
		-hours = hours % 12 || 12; // Convert 24-hour to 12-hour format
		-return `${hours}:${minutes} ${ampm}`;
	-}
	
	.container
		br
		- var role = session.role
		case role!==undefined
			when role == 'cashier' : include cashier-dashboard.pug
			when role == 'developer' : include developer-dashboard.pug
			when role == 'owner' : include owner-dashboard.pug